<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<script type="text/javascript" src="../../js/three.min.js"></script>
<script type="text/javascript" src="../../js/thview.js"></script>
<title>ricoh intern</title>
</head>
<body>

<div id="ph1">
	<img id="tmp">
</div>

<script type="text/javascript" >
    
	var img1 = new ThView({
        	id:'ph1',
        	file:'equirectangular.jpg',
        	width:800,
        	height:400,
        	firstview:270,
	
			      });
	
	var targetList = []; 		      
	var geometry1 = new THREE.SphereGeometry( 8, 30, 30 );
	var material1 = new THREE.MeshBasicMaterial( {color: 0x7fff00} );
	var sphere = new THREE.Mesh( geometry1, material1 );
	sphere.position.set(60,0,0);
	
	img1.scene.add( sphere );		
	
	
	targetList.push(sphere);
	
	
	img1.element.onclick = function(e) {
	
	e.preventDefault();

	var raycaster = new THREE.Raycaster();
	
	var rect = e.target.getBoundingClientRect();    
	var mouse = new THREE.Vector2();
       
        mouse.x =  e.clientX - rect.left;
        mouse.y =  e.clientY - rect.top;
        

		mouse.x =   (mouse.x / renderer.domElement.width) * 2 -1;
		mouse.y = - (mouse.y / renderer.domElement.height) * 2 +1;
		raycaster.setFromCamera(mouse, img1.camera);
 
		var intersects = raycaster.intersectObjects(targetList);
		if(intersects.length >0) {
  	   	          
          window.location.href = "../ekinaka/index.html";
		}
	};
	
	
</script>

</body>
</html>